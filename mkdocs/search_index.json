{
    "docs": [
        {
            "location": "/", 
            "text": "Angstrom Guide\n\n\nNote :\n On most beaglebones, there is a known bug with USB hotplug for using USB HUB with Beaglebone black host port. So to efficiently be able to use the modem, follow the Power on Modem section properly. An alternative easier approach is to keep the second host port on cape populated with a usb device. \n\n\nInstruction\n\n\nInstruction to run 2G \n 3G cape on any linux distribution (Angstrom, Ubuntu etc)\n\n\nNote these are the generic instructions and found to be working fine on the Angstrom distribution For GPS precise PPS timing, you need special instructions. Kindly mail support@yantrr.com for help. GPS PPS timing currently fully supported on Debian Wheezy.\n\n\nHardware Configurations\n\n\nThe 3G/WCDMA modem has following interfaces available on the Cape:\n\n\n\n\nMini USB B Device port on Cape (P9): It has to be connected to USB host port on Beaglebone Black.\n\n\nSMA connector for GSM/WCDMA antenna(P7): Antenna is connected here.\n\n\nLED D2 (5V Power LED of Cape) : This LED indicates that the Cape is powered on with 5V and GSM/WCDMA modem is also powered.\n\n\nLED D4 (SIGNAL LED) : This LED is the SIGNAL LED for the GSM/WCDMA modem whose various blinking states denote the different states of the WCDMA Modem.\n\n\nGPIO45 (ON/OFF PIN) : It is the GPIO connected to Power ON/OFF pin of GSM/WCDMA Modem.\n\n\nGPIO60 (Hard Reset Pin) : It is the GPIO connected to Reset pin of GSM/WCDMA Modem.\n\n\nS1 (ON/OFF switch) : This push button switch is connected to Power ON/OFF pin of GSM/WCDMA modem.\n\n\nS2 (RESET switch) : This push button switch is connected to Hard Reset pin of GSM/WCDMA modem.\n\n\n\n\nSetup the 3G Cape\n\n\n\n\nWe know due to bug in usbhotplug, we recommend to connect a simple pendrive in the host port during the boot of the device\n\n\nFor Angstrom Distribution that comes from BBB support page, load the image and power on the module\n    Install the cape, attach USB cable between mini USB port of cape and host port of Beaglebone Black\n\n\n\n\nPower On Modem\n\n\nThe Modem can be powered on by providing a low level pulse at ON/OFF Pin for 3-4s when the module is off. It can be achieved by either using the push button switch S1 or GPIO45.\n\n\n    cd /sys/class/gpio/\n    echo 45 \n export\n    cd gpio45\n    echo \"high\" \n direction\n    sleep 4\n    echo \"low\" \n direction\n    sleep 4\n    echo \"high\" \n direction\n\n\n\n\n\n\n\nAfter some time, LED D4 should start blinking as to indicate modem has turned on. (Note : In some of 3G modules LED functionality is not enabled by the manufacturer, so the LED D4 might not blink)\n\n\n\n\n\n\nNow, attach usb cable between mini USB port (#16 on leaflet) of cape and host port of Beaglebone Black. Alternatively, if the USB host on cape is also populated,then the USB cable can be kept intact before Board was booted up.\n\n\n\n\n\n\nAssign the driver to the USB port\n\n\n\n\n\n\nCheck that modem is visible on the USB bus by:\n\n\nlsusb\n\nBus 001 Device 002: ID 0424:2412 Standard Microsystems Corp.\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 007: ID 21f5:2012\n\n\n\n\n\n\n\nAssigning driver on the USB modem (Not needed if using pre-built images)\n\n\nmodprobe usbserial vendor=0x21f5 product=0x2012\nlsusb\n\nBus 001 Device 002: ID 0424:2412 Standard Microsystems Corp.\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 007: ID 21f5:2012\n\n\n\n\n\n\n\nSystem messages show what happened after applying modprobe usbserial \n\n\ndmesg | grep -i usb\n[  139.549532] usbcore: registered new interface driver usbserial\n[  139.549615] usbcore: registered new interface driver usbserial_generic\n[  139.549683] usbserial: USB Serial support registered for generic\n[  139.549731] usbserial_generic 1-1.1:1.0: usb_probe_interface\n[  139.549748] usbserial_generic 1-1.1:1.0: usb_probe_interface - got id\n[  139.549777] usbserial_generic 1-1.1:1.0: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n[  139.549790] usbserial_generic 1-1.1:1.0: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n[  139.549800] usbserial_generic 1-1.1:1.0: generic converter detected\n[  139.550195] usb 1-1.1: generic converter now attached to ttyUSB0\n[  139.550314] usbserial_generic 1-1.1:1.1: usb_probe_interface\n[  139.550329] usbserial_generic 1-1.1:1.1: usb_probe_interface - got id\n[  139.550349] usbserial_generic 1-1.1:1.1: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n[  139.550361] usbserial_generic 1-1.1:1.1: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n[  139.550372] usbserial_generic 1-1.1:1.1: generic converter detected\n[  139.555278] usb 1-1.1: generic converter now attached to ttyUSB1\n[  139.555426] usbserial_generic 1-1.1:1.2: usb_probe_interface\n[  139.555442] usbserial_generic 1-1.1:1.2: usb_probe_interface - got id\n[  139.555467] usbserial_generic 1-1.1:1.2: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n[  139.555480] usbserial_generic 1-1.1:1.2: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n[  139.555491] usbserial_generic 1-1.1:1.2: generic converter detected\n[  139.557244] usb 1-1.1: generic converter now attached to ttyUSB2\n\n\n\n\n\n\n\nUnderstanding the TTYUSB ports on BBB capes\n\n\nVayu 3G cape enumerate 3 different usb ports\n\n\n    /dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2\n\n\n\n\n\nttyUSB0 is data port for Ethernet over usb on modem, , use this for the WVDIAL conf\n\n\nttyUSB1 is the diag port for the Firmware upgrade\n\n\nttyUSB2 is the AT CMD port\n\n\n\n\nValidate using minicom\n\n\n    minicom -s \n    Setup the serial port to ttyUSB2\n\n    Welcome to minicom 2.6.1\n\n    OPTIONS: I18n                                                                \n    Compiled on May 20 2013, 17:36:30.                                           \n    Port /dev/ttyUSB2\n\n    Press CTRL-A Z for help on special keys\n\n    at                                                                           \n    OK                                                                           \n    at+cgdcont?                                                                  \n    +CGDCONT: 1,\"IP\",\"epc.tmobile.com\",\"0.0.0.0\",0,0                             \n    +CGDCONT: 2,\"IP\",\"epc.tmobile.com\",\"0.0.0.0\",0,0                             \n    +CGDCONT: 4,\"IP\",\"epc.tmobile.com\",\"0.0.0.0\",0,0\n\n    OK\n\n\n\nPower Off Modem\n\n\nThe modem can be powered off by providing a low level pulse at ON/OFF pin for 3-4s when the module is On. It can be achieved by either using the push button switch S1 or GPIO45.\n\n\n    cd /sys/class/gpio/\n    echo 45 \n export\n    cd gpio45\n    echo \"low\" \n direction\n    sleep 4\n    echo \"high\" \n direction\n    sleep 4\n    echo \"low\" \n direction\n\n\n\nSoft Resetting the Modem\n\n\nSteps -\n\n\n\n\nPower Off the Modem.\n\n\nWait for 1-2s atleast.\n\n\nPower on the modem", 
            "title": "Home"
        }, 
        {
            "location": "/#angstrom-guide", 
            "text": "Note :  On most beaglebones, there is a known bug with USB hotplug for using USB HUB with Beaglebone black host port. So to efficiently be able to use the modem, follow the Power on Modem section properly. An alternative easier approach is to keep the second host port on cape populated with a usb device.", 
            "title": "Angstrom Guide"
        }, 
        {
            "location": "/#instruction", 
            "text": "Instruction to run 2G   3G cape on any linux distribution (Angstrom, Ubuntu etc)  Note these are the generic instructions and found to be working fine on the Angstrom distribution For GPS precise PPS timing, you need special instructions. Kindly mail support@yantrr.com for help. GPS PPS timing currently fully supported on Debian Wheezy.  Hardware Configurations  The 3G/WCDMA modem has following interfaces available on the Cape:   Mini USB B Device port on Cape (P9): It has to be connected to USB host port on Beaglebone Black.  SMA connector for GSM/WCDMA antenna(P7): Antenna is connected here.  LED D2 (5V Power LED of Cape) : This LED indicates that the Cape is powered on with 5V and GSM/WCDMA modem is also powered.  LED D4 (SIGNAL LED) : This LED is the SIGNAL LED for the GSM/WCDMA modem whose various blinking states denote the different states of the WCDMA Modem.  GPIO45 (ON/OFF PIN) : It is the GPIO connected to Power ON/OFF pin of GSM/WCDMA Modem.  GPIO60 (Hard Reset Pin) : It is the GPIO connected to Reset pin of GSM/WCDMA Modem.  S1 (ON/OFF switch) : This push button switch is connected to Power ON/OFF pin of GSM/WCDMA modem.  S2 (RESET switch) : This push button switch is connected to Hard Reset pin of GSM/WCDMA modem.   Setup the 3G Cape   We know due to bug in usbhotplug, we recommend to connect a simple pendrive in the host port during the boot of the device  For Angstrom Distribution that comes from BBB support page, load the image and power on the module\n    Install the cape, attach USB cable between mini USB port of cape and host port of Beaglebone Black   Power On Modem  The Modem can be powered on by providing a low level pulse at ON/OFF Pin for 3-4s when the module is off. It can be achieved by either using the push button switch S1 or GPIO45.      cd /sys/class/gpio/\n    echo 45   export\n    cd gpio45\n    echo \"high\"   direction\n    sleep 4\n    echo \"low\"   direction\n    sleep 4\n    echo \"high\"   direction    After some time, LED D4 should start blinking as to indicate modem has turned on. (Note : In some of 3G modules LED functionality is not enabled by the manufacturer, so the LED D4 might not blink)    Now, attach usb cable between mini USB port (#16 on leaflet) of cape and host port of Beaglebone Black. Alternatively, if the USB host on cape is also populated,then the USB cable can be kept intact before Board was booted up.    Assign the driver to the USB port    Check that modem is visible on the USB bus by:  lsusb\n\nBus 001 Device 002: ID 0424:2412 Standard Microsystems Corp.\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 007: ID 21f5:2012    Assigning driver on the USB modem (Not needed if using pre-built images)  modprobe usbserial vendor=0x21f5 product=0x2012\nlsusb\n\nBus 001 Device 002: ID 0424:2412 Standard Microsystems Corp.\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 007: ID 21f5:2012    System messages show what happened after applying modprobe usbserial   dmesg | grep -i usb\n[  139.549532] usbcore: registered new interface driver usbserial\n[  139.549615] usbcore: registered new interface driver usbserial_generic\n[  139.549683] usbserial: USB Serial support registered for generic\n[  139.549731] usbserial_generic 1-1.1:1.0: usb_probe_interface\n[  139.549748] usbserial_generic 1-1.1:1.0: usb_probe_interface - got id\n[  139.549777] usbserial_generic 1-1.1:1.0: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n[  139.549790] usbserial_generic 1-1.1:1.0: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n[  139.549800] usbserial_generic 1-1.1:1.0: generic converter detected\n[  139.550195] usb 1-1.1: generic converter now attached to ttyUSB0\n[  139.550314] usbserial_generic 1-1.1:1.1: usb_probe_interface\n[  139.550329] usbserial_generic 1-1.1:1.1: usb_probe_interface - got id\n[  139.550349] usbserial_generic 1-1.1:1.1: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n[  139.550361] usbserial_generic 1-1.1:1.1: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n[  139.550372] usbserial_generic 1-1.1:1.1: generic converter detected\n[  139.555278] usb 1-1.1: generic converter now attached to ttyUSB1\n[  139.555426] usbserial_generic 1-1.1:1.2: usb_probe_interface\n[  139.555442] usbserial_generic 1-1.1:1.2: usb_probe_interface - got id\n[  139.555467] usbserial_generic 1-1.1:1.2: The \"generic\" usb-serial driver is only for testing and one-off prototypes.\n[  139.555480] usbserial_generic 1-1.1:1.2: Tell linux-usb@vger.kernel.org to add your device to a proper driver.\n[  139.555491] usbserial_generic 1-1.1:1.2: generic converter detected\n[  139.557244] usb 1-1.1: generic converter now attached to ttyUSB2    Understanding the TTYUSB ports on BBB capes  Vayu 3G cape enumerate 3 different usb ports      /dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2   ttyUSB0 is data port for Ethernet over usb on modem, , use this for the WVDIAL conf  ttyUSB1 is the diag port for the Firmware upgrade  ttyUSB2 is the AT CMD port   Validate using minicom      minicom -s \n    Setup the serial port to ttyUSB2\n\n    Welcome to minicom 2.6.1\n\n    OPTIONS: I18n                                                                \n    Compiled on May 20 2013, 17:36:30.                                           \n    Port /dev/ttyUSB2\n\n    Press CTRL-A Z for help on special keys\n\n    at                                                                           \n    OK                                                                           \n    at+cgdcont?                                                                  \n    +CGDCONT: 1,\"IP\",\"epc.tmobile.com\",\"0.0.0.0\",0,0                             \n    +CGDCONT: 2,\"IP\",\"epc.tmobile.com\",\"0.0.0.0\",0,0                             \n    +CGDCONT: 4,\"IP\",\"epc.tmobile.com\",\"0.0.0.0\",0,0\n\n    OK  Power Off Modem  The modem can be powered off by providing a low level pulse at ON/OFF pin for 3-4s when the module is On. It can be achieved by either using the push button switch S1 or GPIO45.      cd /sys/class/gpio/\n    echo 45   export\n    cd gpio45\n    echo \"low\"   direction\n    sleep 4\n    echo \"high\"   direction\n    sleep 4\n    echo \"low\"   direction  Soft Resetting the Modem  Steps -   Power Off the Modem.  Wait for 1-2s atleast.  Power on the modem", 
            "title": "Instruction"
        }
    ]
}